# 8章:データ
個人メモ付き

- APIを用いてデータの送受信をする
  - HTTPリクエスト，Websocketの利用など
    - 非同期処理が必要

- 8.1 データの受信
  - fetch API
    - response.json() に取得した値が入っている
    - async/awaitが利用可能
      - cf: Promiseチェーン
  
- 8.2 データの送信
  - こちらもfetch APIでOK
    - POST：データの登録時
    - PUT：データの取得時
  - 8.2.1 fetchを使ったファイルアップロード
    - FormDataオブジェクトの使用
  - 8.2.2 リクエストの認証
    - ヘッダに記載
    - useState, useEffectを使用する
    - json.stingfy

- 8.3 データの保存
  - Web Storage APIを使用
    - session strage:セッションの間のみ有効，ページを閉じると不可
    - local strage:ずっとOK
  
- 8.4 非同期リクエストの状態管理
  - HTTPリクエストの種類
    - pending
    - fulfilled
    - rejected
    - 以降は，これらの処理のためのReactの機能の紹介
  - 8.4.1 レンダープロップ
    - コンポーネント再利用のためのパターン
  - 8.4.2 仮想リスト
    - 巨大リクエストの場合に使用(?)
  - 8.4.3 useFetchフック
    - fetchAPI周りは似たような処理を多用する    
      - カスタムフックとして実装するのも良い
  - 8.4.4 fetchコンポーネント
    - UIとフックをまとめたパターン

- 8.5 複数のリクエスト
  - 実際は，一回で全ての情報を取得できるとは限らない
    - useIteratorを用意しよう
    - 8.5.1 関数のメモ化
      - 関数をuseCallBackでメモ化，値をuseMemoでメモ化
        - 同一インスタンスであることを保証する
          - 同一インスタンスを保証することで，ユーザがAPIを扱いやすくなる
    - 8.5.2 ウォーターフォールリクエスト
      - 1つ目のリクエストが完了したら2つ目を実行する
        - 8.5.2.1 ネットワーク遅延のシミュレーション
    - 8.5.3 並列リクエスト
      - 8.5.3.1 完了前の描画
      - 8.5.3.2 リクエストのキャンセル
        - 処理として実装しておく必要がある

- 8.6 GraphQL
  - Web APIを宣言的に記述するための手法
    - REST APIとの違い：リクエストの度にクエリを送ること
  - 8.6.1 GraphQL API
    - 試してみよう
  - 8.6.2 JavaScriptでGraphQLを利用する
    - HTMLでの例    
      - fetchと似ている
    - WebSocketでの例